export const CURRENCIES = {
  'USD': { name: 'US Dollar', symbol: '$', code: 'USD', country: 'United States', placeholder: '0.97' },
  'EUR': { name: 'Euro', symbol: '€', code: 'EUR', country: 'European Union', placeholder: '0.88' },
  'GBP': { name: 'British Pound', symbol: '£', code: 'GBP', country: 'United Kingdom', placeholder: '0.75' },
  'JPY': { name: 'Japanese Yen', symbol: '¥', code: 'JPY', country: 'Japan', placeholder: '136' },
  'CHF': { name: 'Swiss Franc', symbol: 'CHF', code: 'CHF', country: 'Switzerland', placeholder: '0.86' },
  'CAD': { name: 'Canadian Dollar', symbol: 'C$', code: 'CAD', country: 'Canada', placeholder: '1.30' },
  'AUD': { name: 'Australian Dollar', symbol: 'A$', code: 'AUD', country: 'Australia', placeholder: '1.43' },
  'NZD': { name: 'New Zealand Dollar', symbol: 'NZ$', code: 'NZD', country: 'New Zealand', placeholder: '1.60' },
  // Asian Currencies
  'IDR': { name: 'Indonesian Rupiah', symbol: 'Rp', code: 'IDR', country: 'Indonesia', placeholder: '15000' },
  'SGD': { name: 'Singapore Dollar', symbol: 'S$', code: 'SGD', country: 'Singapore', placeholder: '1.27' },
  'MYR': { name: 'Malaysian Ringgit', symbol: 'RM', code: 'MYR', country: 'Malaysia', placeholder: '4.17' },
  'THB': { name: 'Thai Baht', symbol: '฿', code: 'THB', country: 'Thailand', placeholder: '33' },
  'PHP': { name: 'Philippine Peso', symbol: '₱', code: 'PHP', country: 'Philippines', placeholder: '56' },
  'VND': { name: 'Vietnamese Dong', symbol: '₫', code: 'VND', country: 'Vietnam', placeholder: '23077' },
  'KRW': { name: 'South Korean Won', symbol: '₩', code: 'KRW', country: 'South Korea', placeholder: '1304' },
  'CNY': { name: 'Chinese Yuan', symbol: '¥', code: 'CNY', country: 'China', placeholder: '6.82' },
  'HKD': { name: 'Hong Kong Dollar', symbol: 'HK$', code: 'HKD', country: 'Hong Kong', placeholder: '7.58' },
  'TWD': { name: 'Taiwan Dollar', symbol: 'NT$', code: 'TWD', country: 'Taiwan', placeholder: '47' },
  'INR': { name: 'Indian Rupee', symbol: '₹', code: 'INR', country: 'India', placeholder: '79' },
  'PKR': { name: 'Pakistani Rupee', symbol: '₨', code: 'PKR', country: 'Pakistan', placeholder: '350' },
  'BDT': { name: 'Bangladeshi Taka', symbol: '৳', code: 'BDT', country: 'Bangladesh', placeholder: '127' },
  'LKR': { name: 'Sri Lankan Rupee', symbol: '₨', code: 'LKR', country: 'Sri Lanka', placeholder: '290' },
  'NPR': { name: 'Nepalese Rupee', symbol: '₨', code: 'NPR', country: 'Nepal', placeholder: '126' },
  'MMK': { name: 'Myanmar Kyat', symbol: 'K', code: 'MMK', country: 'Myanmar', placeholder: '4615' },
  'KHR': { name: 'Cambodian Riel', symbol: '៛', code: 'KHR', country: 'Cambodia', placeholder: '3846' },
  'LAK': { name: 'Lao Kip', symbol: '₭', code: 'LAK', country: 'Laos', placeholder: '13636' },
  'BND': { name: 'Brunei Dollar', symbol: 'B$', code: 'BND', country: 'Brunei', placeholder: '1.27' },
  // Middle Eastern Currencies
  'AED': { name: 'UAE Dirham', symbol: 'د.إ', code: 'AED', country: 'United Arab Emirates', placeholder: '3.67' },
  'SAR': { name: 'Saudi Riyal', symbol: '﷼', code: 'SAR', country: 'Saudi Arabia', placeholder: '3.75' },
  'QAR': { name: 'Qatari Riyal', symbol: '﷼', code: 'QAR', country: 'Qatar', placeholder: '3.64' },
  'KWD': { name: 'Kuwaiti Dinar', symbol: 'د.ك', code: 'KWD', country: 'Kuwait', placeholder: '0.31' },
  'BHD': { name: 'Bahraini Dinar', symbol: '.د.ب', code: 'BHD', country: 'Bahrain', placeholder: '0.38' },
  'OMR': { name: 'Omani Rial', symbol: '﷼', code: 'OMR', country: 'Oman', placeholder: '0.38' },
  'JOD': { name: 'Jordanian Dinar', symbol: 'د.ا', code: 'JOD', country: 'Jordan', placeholder: '0.71' },
  'LBP': { name: 'Lebanese Pound', symbol: '£', code: 'LBP', country: 'Lebanon', placeholder: '150000' },
  'ILS': { name: 'Israeli Shekel', symbol: '₪', code: 'ILS', country: 'Israel', placeholder: '3.80' },
  'TRY': { name: 'Turkish Lira', symbol: '₺', code: 'TRY', country: 'Turkey', placeholder: '32' },
  'IRR': { name: 'Iranian Rial', symbol: '﷼', code: 'IRR', country: 'Iran', placeholder: '42000' },
  // European Currencies (Non-Euro)
  'SEK': { name: 'Swedish Krona', symbol: 'kr', code: 'SEK', country: 'Sweden', placeholder: '10.50' },
  'NOK': { name: 'Norwegian Krone', symbol: 'kr', code: 'NOK', country: 'Norway', placeholder: '10.80' },
  'DKK': { name: 'Danish Krone', symbol: 'kr', code: 'DKK', country: 'Denmark', placeholder: '6.80' },
  'PLN': { name: 'Polish Złoty', symbol: 'zł', code: 'PLN', country: 'Poland', placeholder: '4.00' },
  'CZK': { name: 'Czech Koruna', symbol: 'Kč', code: 'CZK', country: 'Czech Republic', placeholder: '22.50' },
  'HUF': { name: 'Hungarian Forint', symbol: 'Ft', code: 'HUF', country: 'Hungary', placeholder: '360' },
  'RON': { name: 'Romanian Leu', symbol: 'lei', code: 'RON', country: 'Romania', placeholder: '4.50' },
  'BGN': { name: 'Bulgarian Lev', symbol: 'лв', code: 'BGN', country: 'Bulgaria', placeholder: '1.80' },
  'HRK': { name: 'Croatian Kuna', symbol: 'kn', code: 'HRK', country: 'Croatia', placeholder: '6.90' },
  'RSD': { name: 'Serbian Dinar', symbol: 'дин', code: 'RSD', country: 'Serbia', placeholder: '105' },
  'RUB': { name: 'Russian Ruble', symbol: '₽', code: 'RUB', country: 'Russia', placeholder: '85' },
  'UAH': { name: 'Ukrainian Hryvnia', symbol: '₴', code: 'UAH', country: 'Ukraine', placeholder: '40' },
  'ISK': { name: 'Icelandic Króna', symbol: 'kr', code: 'ISK', country: 'Iceland', placeholder: '135' },
  // African Currencies
  'ZAR': { name: 'South African Rand', symbol: 'R', code: 'ZAR', country: 'South Africa', placeholder: '18.00' },
  'EGP': { name: 'Egyptian Pound', symbol: '£', code: 'EGP', country: 'Egypt', placeholder: '48.00' },
  'NGN': { name: 'Nigerian Naira', symbol: '₦', code: 'NGN', country: 'Nigeria', placeholder: '1600' },
  'KES': { name: 'Kenyan Shilling', symbol: 'KSh', code: 'KES', country: 'Kenya', placeholder: '130' },
  'UGX': { name: 'Ugandan Shilling', symbol: 'USh', code: 'UGX', country: 'Uganda', placeholder: '3700' },
  'TZS': { name: 'Tanzanian Shilling', symbol: 'TSh', code: 'TZS', country: 'Tanzania', placeholder: '2700' },
  'ETB': { name: 'Ethiopian Birr', symbol: 'Br', code: 'ETB', country: 'Ethiopia', placeholder: '110' },
  'GHS': { name: 'Ghanaian Cedi', symbol: '₵', code: 'GHS', country: 'Ghana', placeholder: '15.00' },
  'MAD': { name: 'Moroccan Dirham', symbol: 'د.م.', code: 'MAD', country: 'Morocco', placeholder: '10.00' },
  'TND': { name: 'Tunisian Dinar', symbol: 'د.ت', code: 'TND', country: 'Tunisia', placeholder: '3.10' },
  'DZD': { name: 'Algerian Dinar', symbol: 'د.ج', code: 'DZD', country: 'Algeria', placeholder: '135' },
  'BWP': { name: 'Botswana Pula', symbol: 'P', code: 'BWP', country: 'Botswana', placeholder: '13.50' },
  'NAD': { name: 'Namibian Dollar', symbol: 'N$', code: 'NAD', country: 'Namibia', placeholder: '18.00' },
  'SZL': { name: 'Swazi Lilangeni', symbol: 'L', code: 'SZL', country: 'Eswatini', placeholder: '18.00' },
  'LSL': { name: 'Lesotho Loti', symbol: 'L', code: 'LSL', country: 'Lesotho', placeholder: '18.00' },
  'MUR': { name: 'Mauritian Rupee', symbol: '₨', code: 'MUR', country: 'Mauritius', placeholder: '45.00' },
  'SCR': { name: 'Seychellois Rupee', symbol: '₨', code: 'SCR', country: 'Seychelles', placeholder: '14.00' },
  // Latin American Currencies
  'BRL': { name: 'Brazilian Real', symbol: 'R$', code: 'BRL', country: 'Brazil', placeholder: '5.50' },
  'MXN': { name: 'Mexican Peso', symbol: '$', code: 'MXN', country: 'Mexico', placeholder: '20.00' },
  'ARS': { name: 'Argentine Peso', symbol: '$', code: 'ARS', country: 'Argentina', placeholder: '900' },
  'CLP': { name: 'Chilean Peso', symbol: '$', code: 'CLP', country: 'Chile', placeholder: '900' },
  'COP': { name: 'Colombian Peso', symbol: '$', code: 'COP', country: 'Colombia', placeholder: '4000' },
  'PEN': { name: 'Peruvian Sol', symbol: 'S/', code: 'PEN', country: 'Peru', placeholder: '3.80' },
  'UYU': { name: 'Uruguayan Peso', symbol: '$', code: 'UYU', country: 'Uruguay', placeholder: '40.00' },
  'PYG': { name: 'Paraguayan Guarani', symbol: '₲', code: 'PYG', country: 'Paraguay', placeholder: '7000' },
  'BOB': { name: 'Bolivian Boliviano', symbol: 'Bs', code: 'BOB', country: 'Bolivia', placeholder: '6.90' },
  'VES': { name: 'Venezuelan Bolívar', symbol: 'Bs', code: 'VES', country: 'Venezuela', placeholder: '36.00' },
  'CRC': { name: 'Costa Rican Colón', symbol: '₡', code: 'CRC', country: 'Costa Rica', placeholder: '550' },
  'GTQ': { name: 'Guatemalan Quetzal', symbol: 'Q', code: 'GTQ', country: 'Guatemala', placeholder: '7.80' },
  'HNL': { name: 'Honduran Lempira', symbol: 'L', code: 'HNL', country: 'Honduras', placeholder: '24.50' },
  'NIO': { name: 'Nicaraguan Córdoba', symbol: 'C$', code: 'NIO', country: 'Nicaragua', placeholder: '36.00' },
  'PAB': { name: 'Panamanian Balboa', symbol: 'B/.', code: 'PAB', country: 'Panama', placeholder: '1.00' },
  'DOP': { name: 'Dominican Peso', symbol: 'RD$', code: 'DOP', country: 'Dominican Republic', placeholder: '55.00' },
  'CUP': { name: 'Cuban Peso', symbol: '$', code: 'CUP', country: 'Cuba', placeholder: '24.00' },
  'JMD': { name: 'Jamaican Dollar', symbol: 'J$', code: 'JMD', country: 'Jamaica', placeholder: '150' },
  'HTG': { name: 'Haitian Gourde', symbol: 'G', code: 'HTG', country: 'Haiti', placeholder: '130' },
  'BBD': { name: 'Barbadian Dollar', symbol: 'Bds$', code: 'BBD', country: 'Barbados', placeholder: '2.00' },
  'TTD': { name: 'Trinidad Dollar', symbol: 'TT$', code: 'TTD', country: 'Trinidad and Tobago', placeholder: '6.80' },
  // Oceania Currencies
  'FJD': { name: 'Fijian Dollar', symbol: 'FJ$', code: 'FJD', country: 'Fiji', placeholder: '2.20' },
  'TOP': { name: 'Tongan Paʻanga', symbol: 'T$', code: 'TOP', country: 'Tonga', placeholder: '2.35' },
  'WST': { name: 'Samoan Tala', symbol: 'T', code: 'WST', country: 'Samoa', placeholder: '2.70' },
  'VUV': { name: 'Vanuatu Vatu', symbol: 'Vt', code: 'VUV', country: 'Vanuatu', placeholder: '120' },
  'PGK': { name: 'Papua New Guinea Kina', symbol: 'K', code: 'PGK', country: 'Papua New Guinea', placeholder: '3.90' },
  'SBD': { name: 'Solomon Islands Dollar', symbol: 'SI$', code: 'SBD', country: 'Solomon Islands', placeholder: '8.40' },
  // Central Asian Currencies
  'KZT': { name: 'Kazakhstani Tenge', symbol: '₸', code: 'KZT', country: 'Kazakhstan', placeholder: '480' },
  'UZS': { name: 'Uzbekistani Som', symbol: 'soʻm', code: 'UZS', country: 'Uzbekistan', placeholder: '12500' },
  'KGS': { name: 'Kyrgyzstani Som', symbol: 'с', code: 'KGS', country: 'Kyrgyzstan', placeholder: '85.00' },
  'TJS': { name: 'Tajikistani Somoni', symbol: 'ЅМ', code: 'TJS', country: 'Tajikistan', placeholder: '10.00' },
  'TMT': { name: 'Turkmenistani Manat', symbol: 'm', code: 'TMT', country: 'Turkmenistan', placeholder: '3.50' },
  'AFN': { name: 'Afghan Afghani', symbol: '؋', code: 'AFN', country: 'Afghanistan', placeholder: '90' },
  'BYN': { name: 'Belarusian Ruble', symbol: 'Br', code: 'BYN', country: 'Belarus', placeholder: '3.20' },
  'MDL': { name: 'Moldovan Leu', symbol: 'L', code: 'MDL', country: 'Moldova', placeholder: '17.50' },
  'GEL': { name: 'Georgian Lari', symbol: '₾', code: 'GEL', country: 'Georgia', placeholder: '2.70' },
  'AMD': { name: 'Armenian Dram', symbol: '֏', code: 'AMD', country: 'Armenia', placeholder: '390' },
  'AZN': { name: 'Azerbaijani Manat', symbol: '₼', code: 'AZN', country: 'Azerbaijan', placeholder: '1.70' },
  // Cryptocurrency (for completeness)
  'BTC': { name: 'Bitcoin', symbol: '₿', code: 'BTC', country: 'Digital', placeholder: '0.00002' },
  'ETH': { name: 'Ethereum', symbol: 'Ξ', code: 'ETH', country: 'Digital', placeholder: '0.0004' },
  'USDT': { name: 'Tether', symbol: '₮', code: 'USDT', country: 'Digital', placeholder: '1.00' },
};

// Regional currency groups
export const CURRENCY_REGIONS = {
  'Asia Pacific': ['IDR', 'SGD', 'MYR', 'THB', 'PHP', 'VND', 'KRW', 'CNY', 'HKD', 'TWD', 'INR', 'JPY', 'AUD', 'NZD'],
  'Europe': ['EUR', 'GBP', 'CHF', 'SEK', 'NOK', 'DKK', 'PLN', 'CZK', 'HUF', 'RON', 'BGN', 'HRK'],
  'Middle East': ['AED', 'SAR', 'QAR', 'KWD', 'BHD', 'OMR', 'JOD', 'ILS', 'TRY'],
  'Africa': ['ZAR', 'EGP', 'NGN', 'KES', 'GHS', 'MAD', 'TND', 'ETB'],
  'Americas': ['USD', 'CAD', 'BRL', 'MXN', 'ARS', 'CLP', 'COP', 'PEN'],
  'Major': ['USD', 'EUR', 'GBP', 'JPY', 'CHF', 'CAD', 'AUD']
};

// Helper functions
export const getCurrencyInfo = (code) => {
  return CURRENCIES[code] || null;
};

export const getCurrencySymbol = (code) => {
  return CURRENCIES[code]?.symbol || code;
};

export const getCurrencyName = (code) => {
  return CURRENCIES[code]?.name || code;
};

export const getCurrencyPlaceHolder = (code) => {
  return CURRENCIES[code]?.placeholder || code;
};

export const formatCurrency = (amount, currencyCode, locale = 'en-US') => {
  const currency = CURRENCIES[currencyCode];
  if (!currency) return `${amount || 0} ${currencyCode}`;

  // Handle undefined, null, or NaN amounts
  const safeAmount = (amount == null || isNaN(amount)) ? 0 : amount;

  try {
    const effectiveLocale = (currencyCode === 'IDR' && locale === 'en-US') ? 'id-ID' : locale;
    return new Intl.NumberFormat(effectiveLocale, {
      style: 'currency',
      currency: currencyCode,
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(safeAmount);
  } catch (error) {
    // Fallback formatting
    return `${currency.symbol}${safeAmount.toLocaleString()}`;
  }
};

export const searchCurrencies = (query) => {
  const searchTerm = query.toLowerCase();
  return Object.entries(CURRENCIES).filter(([code, info]) =>
    code.toLowerCase().includes(searchTerm) ||
    info.name.toLowerCase().includes(searchTerm) ||
    info.country.toLowerCase().includes(searchTerm)
  );
};

// Helper functions for formatting numbers
export const formatNumber = (num) => {
  if (num == null || isNaN(num)) return '0';
  return num.toLocaleString();
};

// Exchange rates (simplified - in production, these would come from an API)
const EXCHANGE_RATES = {
  // Base rates against USD
  'USD': 1.00,
  'EUR': 0.85,
  'GBP': 0.73,
  'JPY': 110.00,
  'CHF': 0.92,
  'CAD': 1.25,
  'AUD': 1.35,
  'NZD': 1.40,
  'IDR': 14200.00,
  'SGD': 1.35,
  'MYR': 4.20,
  'THB': 27.00,
  'PHP': 50.00,
  'VND': 23000.00,
  'KRW': 1180.00,
  'CNY': 6.45,
  'HKD': 7.80,
  'TWD': 28.00,
  'INR': 74.00,
  'PKR': 280.00,
  'BDT': 85.00,
  'LKR': 200.00,
  'NPR': 118.00,
  'MMK': 1300.00,
  'KHR': 4100.00,
  'LAK': 8500.00,
  'BND': 1.35,
  'AED': 3.67,
  'SAR': 3.75,
  'QAR': 3.64,
  'KWD': 0.30,
  'BHD': 0.38,
  'OMR': 0.38,
  'JOD': 0.71,
  'LBP': 1500.00,
  'ILS': 3.25,
  'TRY': 8.50,
  'IRR': 42000.00,
  'SEK': 8.50,
  'NOK': 8.60,
  'DKK': 6.30,
  'PLN': 3.80,
  'CZK': 21.50,
  'HUF': 300.00,
  'RON': 4.00,
  'BGN': 1.65,
  'HRK': 6.40,
  'RSD': 100.00,
  'RUB': 75.00,
  'UAH': 28.00,
  'ISK': 120.00,
  'ZAR': 14.50,
  'EGP': 15.70,
  'NGN': 410.00,
  'KES': 110.00,
  'UGX': 3700.00,
  'TZS': 2300.00,
  'ETB': 55.00,
  'GHS': 6.00,
  'MAD': 8.90,
  'TND': 2.80,
  'DZD': 135.00,
  'BWP': 11.50,
  'NAD': 14.50,
  'SZL': 14.50,
  'LSL': 14.50,
  'MUR': 43.00,
  'SCR': 13.00,
  'FJD': 2.20,
  'TOP': 2.25,
  'WST': 2.60,
  'VUV': 110.00,
  'PGK': 3.50,
  'SBD': 7.90,
  'KZT': 425.00,
  'UZS': 10600.00,
  'KGS': 70.00,
  'TJS': 9.50,
  'TMT': 3.50,
  'AFN': 78.00,
  'BYN': 2.50,
  'MDL': 16.50,
  'GEL': 2.70,
  'AMD': 480.00,
  'AZN': 1.70,
  'BTC': 0.000025,
  'ETH': 0.00035,
  'USDT': 1.00,
  'BRL': 5.20,
  'MXN': 20.00,
  'ARS': 350.00,
  'CLP': 750.00,
  'COP': 3800.00,
  'PEN': 3.80,
  'UYU': 42.00,
  'PYG': 7000.00,
  'BOB': 6.90,
  'VES': 8.00,
  'CRC': 620.00,
  'GTQ': 7.80,
  'HNL': 24.50,
  'NIO': 36.00,
  'PAB': 1.00,
  'DOP': 57.00,
  'CUP': 24.00,
  'JMD': 155.00,
  'HTG': 98.00,
  'BBD': 2.00,
  'TTD': 6.80
};

// Get exchange rate between two currencies
export const getExchangeRate = (fromCurrency, toCurrency) => {
  if (!EXCHANGE_RATES[fromCurrency] || !EXCHANGE_RATES[toCurrency]) {
    return null;
  }

  // Convert to USD first, then to target currency
  const fromRate = EXCHANGE_RATES[fromCurrency];
  const toRate = EXCHANGE_RATES[toCurrency];

  return toRate / fromRate;
};

// Convert currency amount from one currency to another
export const convertCurrency = (amount, fromCurrency, toCurrency) => {
  if (amount == null || isNaN(amount)) return 0;

  const rate = getExchangeRate(fromCurrency, toCurrency);
  if (!rate) return null;

  return amount * rate;
};

// Get formatted conversion result
export const formatConversion = (amount, fromCurrency, toCurrency) => {
  const converted = convertCurrency(amount, fromCurrency, toCurrency);
  if (converted === null) return null;

  return {
    amount: converted,
    formatted: formatCurrency(converted, toCurrency),
    rate: getExchangeRate(fromCurrency, toCurrency)
  };
};

export const formatDecimal = (num, decimals = 2) => {
  if (num == null || isNaN(num)) return '0';
  return num.toFixed(decimals);
};

export default CURRENCIES;
